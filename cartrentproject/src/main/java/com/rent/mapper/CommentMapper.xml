<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0/EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.rent.mapper.CommentMapper">
	
	<!-- 댓글의 개수 -->
	<select id="commentCount" parameterType="int">
		select count(*)
		from comment
		where qna_id = #{qna_id}
	</select>
	
	<!-- 댓글 목록 보기 -->
	<select id="commentList" parameterType="int" resultType="com.rent.domain.CommentVO">
		select *
		from comment
		where qna_id = #{qna_id}
	</select>
    
    <!-- 댓글 등록 -->
    <insert id="commentInsert"  parameterType="com.rent.domain.CommentVO" >
    	insert into comment
    	 (comment_id, qna_id, content, writer, comment_date)
    	values(#{comment_id}, #{qna_id}, #{content}, #{writer}, now())
    </insert>
    
    <!-- 댓글 수정 -->
    <update id="commentUpdate"  parameterType="com.rent.domain.CommentVO" >
    	update comment
    	set content = #{content}
    	where comment_id = #{comment_id}
    </update>
    
    <!-- 댓글 삭제 -->
    <delete id="commentDelete" parameterType="int">
    	delete from comment
    	where comment_id = #{comment_id}
    </delete>
    
    <!-- 대댓글 목록 -->
    
</mapper>

